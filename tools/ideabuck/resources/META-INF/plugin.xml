<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <id>intellij.buck.plugin</id>
  <name>Buck for IDEA</name>
  <version>3.9.4-SNAPSHOT</version>
  <category>Build</category>
  <vendor email="fb-plugins@fb.com" url="www.facebook.com">Facebook, Inc.</vendor>

  <description><![CDATA[
    An IntelliJ plugin for <a href="https://buck.build">the Buck build system.</a>
  ]]></description>

  <change-notes><![CDATA[
<h3>3.9.3</h3>
<ul>
  <li>Add new extension point BuckAutoDepsSearchableClassNameContributor</li>
</ul>
<h3>3.9.1</h3>
<ul>
  <li>Add "copy Buck target" feature</li>
  <li>Fix memory leak of Buck tool window</li>
  <li>Change auto-completion to be triggered by : and /</li>
</ul>
<h3>3.9.0</h3>
<ul>
  <li>Fix parsing of trailing indents</li>
  <li>Add extension point for transforming target metadata</li>
  <li>Allow BuckAddDependencyIntention to work with other languages</li>
</ul>
<h3>3.8.2</h3>
<ul>
  <li>Fix rendering of BuckToolWindow, remove non-useful buttons.</li>
</ul>
<h3>3.8.1</h3>
<ul>
  <li>Change trigger for auto-formatting build files from save to editor blur.</li>
</ul>
<h3>3.8.0</h3>
<ul>
  <li>Use <code>buildifier</code> for the "Reformat Code" action</li>
  <li>Support auto-formatting build files on save</li>
  <li>Remove dependency on Android Support plugin</li>
</ul>
<h3>3.7.5</h3>
<ul>
  <li>Refine macros for External Tools:
    <ul>
      <li><code>$BuckExecutable$</code>: Path to the buck executable for the active project</li>
      <li><code>$BuckCoordinates$</code>: fully-qualified TargetPattern for the active selection</li>
      <li><code>$BuckCellName$, $BuckCellRelativePath$, $BuckRuleName$</code>: components of the <code>$BuckCoordinates$</code></li>
      <li><code>$BuckCellRoot$</code>: path to cell root for the selected file</li>
      <li><code>$BuckCellRoot(name)$</code>: path to cell root for the named cell</li>
    </ul>
  </li>
</ul>
<h3>3.7.4</h3>
<ul>
  <li>Support buck commands as "Before Run" tasks/</li>
</ul>
<h3>3.7.3</h3>
<ul>
  <li>Fixes to make triggering buck from IntelliJ more consistent with
  invoking it from the command-line.</li>
  <li>Improved cell discovery in prefs.</li>
</ul>
<h3>3.7.2</h3>
<ul>
  <li>Make grammar fully Starlark-compatible.</li>
  <li>Support reference navigation for identifiers in Starlark files.</li>
  <li>Support folding of various multi-line Starlark elements (function definitions,
      collections/comprehensions, etc.).</li>
  <li>Support structure view.</li>
</ul>
<h3>3.7.1</h3>
<ul>
  <li>Rebuild for changes in buck core re: test results.</li>
</ul>
<h3>3.7</h3>
<ul>
  <li>Add editor support for <code>.buckconfig</code> files, including
      <code>.buckconfig.local</code> and <code>*.bcfg</code> files.</li>
</ul>
<h3>3.6.1</h3>
<ul>
  <li>Add LiveTemplates support for Buck files and added some starter templates.</li>
  <li>Improved support for symbols imported via <code>load()</code>.</li>
</ul>
<h3>3.5.5</h3>
<ul>
  <li>Misc editor improvements for symbols loaded from extension files
      and colorization of target patterns.</li>
  <li>Migrate project-level settings for cells and executables from
      <code>.idea/ideabuck.xml<code> to <code>.idea/ideabuck/cells</code>
      and <code>.idea/ideabuck/executables.xml</code>, respectively,
      to allow those preferences to be independently committed or ignored
      in source control.</li>
  <li>Add preferences for <code>buildifier</code> and <code>buildozer</code>
      executables.</li>
</ul>
<h3>3.5.4</h3>
<ul>
  <li>Don't expand visibility in "autodeps" quick fix, but provide an error message
      with hyperlinks to make it easier for the user to do so.</li>
  <li>Moved the link for running tests with buck into the same hierarchical menu as
      the other test-running actions.</li>
  <li>Support for running JUnit3-style tests from the gutter.</li>
</ul>
<h3>3.5.3</h3>
<ul>
  <li>Convert "autodeps" feature to quick fix.</li>
  <li>Improved syntax parsing, highlighting, autocompletion, and click-through navigation.</li>
</ul>
<h3>3.5.2</h3>
<ul>
  <li>Move "Go to Buck file" action to Navigate menu and "Go To" popup menu.</li>
  <li>Show warning about missing Buck server as a balloon.</li>
  <li>Add project-level settings, stored in <code>.idea/ideabuck.xml</code></li>
  <li>Add limited support for cross-cell navigation in the editor.</li>
  <li>Improved click-through navigation in the buck editor</li>
</ul>

<h3>3.4</h3>
<ul>
  <li>Enable Layout Preview in Android projects generated by <code>buck project</code>.</li>
  <li>Support Skylark <code>glob</code> API (<code>exclude</code> attribute).</li>
  <li>Auto-complete <code>load</code> functions.</li>
  <li>Add limited support for detecting missing extension files referenced in <code>load</code>
  function. Currently only targets from the same cell are checked.</li>
  <li>Add limited <code>load</code> function target navigation. Currently only targets from the
  same cell are supported.</li>
</ul>

<h3>3.3</h3>
<ul>
  <li>"Optimize Imports" now removes duplicate dependencies.</li>
  <li>The paste code will not transform text if within a non-empty string.</li>
</ul>

<h3>3.2</h3>
<ul>
  <li>Fix paste bugs; add unit tests so paste doesn't break again.</li>
  <li>Move <tt>adb</tt>/<tt>buck</tt> configuration checks to point of use, so you no longer get
   Fatal Errors on opening IJ if you don't have <tt>adb</tt> installed.</li>
</ul>

<h3>3.1</h3>
<ul>
  <li>Detect new package creation, and mark it as a source folder.</li>
  <li>Remove the default folding of large arrays.</li>
</ul>

<h3>3.0</h3>
<ul>
  <li>Make plugin compatible with IntelliJ 2017.1.</li>
</ul>

<h3>2.9</h3>
<ul>
  <li>Add an ability to run tests from editor.</li>
  <li>Find adb based on ANDROID_SDK environment variable.</li>
  <li>Fold BUCK files.</li>
</ul>

<h3>2.8</h3>
<ul>
  <li>Detect resource creation in a Project View's <tt>/res</tt> directory,
    and moves the new file to an Android resource module.</li>
</ul>

<h3>2.7.8</h3>
<ul>
  <li>Fixed issues with Buck files showing syntax errors when using
    the glob function.</li>
</ul>

<h3>2.7.7</h3>
<ul>
  <li>Fix a bug with buck command never finishes. This solves the problem
    with not showing targets in "Choose Buck Target" pop-up.</li>
  <li>Use buck config to determine Buck file name (default is BUCK).</li>
</ul>

<h3>2.7.6</h3>
<ul>
  <li>Change pasting formatting to have double-quotes and four-space
    indents.</li>
</ul>

<h3>2.7.5</h3>
<ul>
  <li>Fix go-to-definition to recognize both single- and double-quoted
    strings.</li>
  <li>Fix how the icon gets initialized for the buck tool window.</li>
</ul>

<h3>2.7.4</h3>
<ul>
  <li>Added support for pasting multiple targets in a Buck file.</li>
  <li>Fixed issues with whitespace when pasting target(s) in a
    Buck file.</li>
</ul>

<h3>2.7.3</h3>
<ul>
  <li>Removed restriction on IDEA version.</li>
  <li>Added test run configuration.</li>
</ul>

<h3>2.7.2</h3>
<ul>
  <li>Fixed a bug with NullPointerException in BuckEventsQueue.</li>
  <li>Fixed multiple edge cases with autodeps logic.</li>
</ul>

<h3>2.7.1</h3>
<ul>
  <li>Updated upper-bound of plugin to 2016.2.</li>
</ul>

<h3>2.7.0</h3>
<ul>
  <li>Sending events for Buck plugin IntelliJ actions.</li>
  <li>Added adb select path to Tools.</li>
</ul>

<h3>2.6</h3>
<ul>
  <li>Improved server connect/disconnect.</li>
  <li>Moved actions from the UI thread.</li>
  <li>Fixed some compatibility issues.</li>
</ul>

<h3>2.5</h3>
<ul>
  <li>Updated buck icons.</li>
  <li>Made all existing paths in a Buck file clickable.</li>
  <li>Improved grammar.</li>
  <li>Show popup on how to enable the toolbar.</li>
  <li>Disable choose target if indexing not over.</li>
</ul>

<h3>2.4</h3>
<ul>
  <li>Added the plugin to the toolbar.</li>
  <li>Show successful/failed notification on action finished.</li>
  <li>Automatically find buck executable.</li>
  <li>Added install debugging.</li>
  <li>Minor bug fixes.</li>
</ul>

<h3>2.3</h3>
<ul>
  <li>Updated with the new buck API.</li>
  <li>Fixed old commands to work with Buck.</li>
</ul>

<h3>2.2</h3>
<ul>
  <li>Fetch build status via websocket.</li>
  <li>Publish build status notifications.</li>
</ul>

<h3>1.1</h3>
<ul>
  <li>Formatter for buck file.</li>
  <li>Buck dependencies sorter.</li>
  <li>Annotator for wrong buck dependency target.</li>
  <li>Line commenter.</li>
</ul>
    ]]>
  </change-notes>

  <!-- please see https://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
  <idea-version since-build="191.5849.21"/>

  <depends>com.intellij.modules.platform</depends>
  <depends>com.intellij.modules.lang</depends>

  <xi:include href="/META-INF/plugin-core.xml" xpointer="xpointer(/idea-plugin/*)" />
</idea-plugin>
