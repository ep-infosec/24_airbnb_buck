This is a combination of the dalivik and libcore/dex code from the
AOSP tag android-5.1.1_r8
